<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>顶部导航</title>
	<style>
		*{
			margin: 0;
			padding: 0;
		}
		.top{
			width: 100%;
			height: 100px;
			background-color: pink;
		}
		#topnav{
			position: fixed;
			top: 0px;
			left: 0px;
			width: 100%;
			height: 0px;
			background-color: gold;
		}
		.content{
			width: 100%;
			height: 3000px;
			background-color: tomato;
		}
	</style>
</head>
<body>
	<div class="top"></div>
	<div id="topnav"></div>
	<div class="content"></div>
</body>
<script>
	var oTop = document.getElementById('topnav');
	var timer = 0;
	var iSpeed = 0;


	function getScrollTop(){
		return window.pageXOffset || document.documentElement.scrollTop || document.body.scrollTop;
	}

	function getScrollLeft(){
		return window.pageYOffset || document.documentElement.scrollLeft || document.body.scrollLeft;
	}

	clearInterval(timer);
	function animate(obj,attr,target){
		timer = setInterval(function(){
			if (obj.offsetHeight < target) {
				iSpeed = 10;
			}else{
				iSpeed = -10;
			}
			if (Math.abs(target - obj.offsetHeight) < Math.abs(iSpeed)) {
				obj.style[attr] = target + 'px';
				clearInterval(timer);
			}else{
				obj.style[attr] = oTop.offsetHeight + iSpeed + 'px';
			}
		},30);
	}


	window.onscroll = function(){
		console.log(getScrollTop());
		if (getScrollTop() >  100) {
			animate(oTop,'height',100);
		}else if (getScrollTop() < 100) {
			animate(oTop,'height',0);
		}
		
	}
</script>
</html>